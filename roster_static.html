<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8"><title>FIGHTSHIFT — Roster</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="page">
    <header class="header">
      <div class="brand">FIGHTSHIFT</div>
      <nav class="nav">
        <button class="btn btn-ghost" onclick="location.href='index.html'">Menu</button>
        <button class="btn btn-ghost" onclick="location.href='rules.html'">Règles</button>
        <button class="btn btn-ghost" onclick="location.href='arcade.html'">Arcade</button>
      </nav>
    </header>

    <main class="container">
      <h1>Roster</h1>
      <div class="grid roster" id="grid"></div>
    </main>
  </div>

  <audio id="bg-music" loop><source src="techno_syndrome.mp3" type="audio/mpeg"></audio>
  <script src="shared-audio.js"></script>
  <script>
  window.sharedAudio.tryResume(document.getElementById('bg-music'));
  const COLOR = {red:'color-red', blue:'color-blue', green:'color-green'};
  fetch('roster.json', {cache:'no-store'}).then(r=>r.json()).then(render);
  function render(roster){
    const grid = document.getElementById('grid');
    grid.innerHTML = roster.map(p => `
      <div class="card">
        <div class="name">
          <span>${p.name}</span>
          <span class="badge ${COLOR[p.color]||''}">${p.color.toUpperCase()}</span>
        </div>
        <p>${p.short||''}</p>
        <p><strong>PV</strong> ${p.hp_max} • <strong>VIT</strong> ${p.speed}</p>
        <p><strong>ATK</strong> ${p.atk??'-'} / <strong>SPATK</strong> ${p.spatk??'-'} • <strong>DEF</strong> ${p.def??'-'} / <strong>SPDEF</strong> ${p.spdef??'-'}</p>
        <p><strong>ACC</strong> ${p.acc??0}% • <strong>EVA</strong> ${p.eva??0}% • <strong>CRIT</strong> ${p.crit??6}%</p>
        <p><strong>Resists</strong> BLD ${p.resists?.bleed??0}% / BRN ${p.resists?.burn??0}% / SLOW ${p.resists?.slow??0}%</p>
        <p><strong>Moves</strong> — ${p.moves.join(', ')}</p>
      </div>
    `).join('');
  }
  </script>
</body>
</html>
